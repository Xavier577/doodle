(()=>{"use strict";const t=function(t,e,r,i){this.x=t,this.y=e,this.width=r,this.height=i};var e,r=(e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,r)},function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)});const i=function(t){function e(e,r,i,n,o){var s=t.call(this,e,r,i,n)||this;return s.parentElement=o,s.canvas=document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s}return r(e,t),e.prototype.render=function(){this.canvas.width=this.width,this.canvas.height=this.height,this.parentElement.append(this.canvas)},e}(t),n={x:300,y:540,speed:0,width:60,height:60,dx:60,dy:2,avatar:document.getElementById("doodler"),draw:function(t){t.ctx.drawImage(this.avatar,this.x,this.y,this.width,this.height)},moveLeft:function(){this.x-=this.dx},moveRight:function(){this.x+=this.dx}};function o(t){return{draw:function(e,r){void 0===r&&(r=.1),function(t,e,r){var i=t.ctx,n=t.canvas,o=n.width,s=n.height;void 0===r&&(r=.1);for(var a=Math.ceil(r*o),h=a;h<o;h+=a)i.beginPath(),i.moveTo(h,0),i.lineTo(h,s),i.strokeStyle=e||"#000000",i.stroke(),i.closePath()}(t,e,r),function(t,e,r){var i=t.ctx,n=t.canvas,o=n.width,s=n.height;void 0===r&&(r=.1);for(var a=Math.ceil(r*s),h=a;h<s;h+=a)i.beginPath(),i.moveTo(0,h),i.lineTo(o,h),i.strokeStyle=e||"#000000",i.stroke(),i.closePath()}(t,e,r)}}}var s=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();const a=function(t){function e(e,r,i,n,o,s){var a=t.call(this,e,r,i,n)||this;return a.dx=o,a.dy=s,a}return s(e,t),e.prototype.draw=function(t){t.ctx.fillRect(this.x,this.y,this.width,this.height)},e.prototype.platformGoDown=function(){this.y+=this.dy},e.prototype.isPlayerOnPlatform=function(t){var e=this.x,r=this.x+this.width,i=this.y,n=t.y+t.height,o=t.x+this.width,s=t.x+this.width;return e<=o&&r>=s&&i===n},e}(t),h=function(){function t(t,e){this.player=t,this.score=0,this.screen=e,this.ctx=e.ctx,this.canvas=e.canvas,this.gridColor="#65960a81",this.platforms=[],this.platformCoordinates={x:0,y:0},this.isPlayerJumping=!1,this.run=this.run.bind(this)}return t.prototype.start=function(){this.screen.render(),o(this.screen).draw(this.gridColor,.02)},t.prototype.run=function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),o(this.screen).draw(this.gridColor),this.renderPlayer(),this.drawPlatform(),requestAnimationFrame(this.run),this.isgameOver()&&(this.player.dy*=-1)},t.prototype.drawPlatform=function(){var t=this;this.createPlatform(),this.platforms.forEach((function(e){return e.draw(t.screen)}))},t.prototype.movePlatform=function(){this.platforms.length>0&&this.platforms.forEach((function(t){return t.y+=t.dy}))},t.prototype.renderPlayer=function(){var t,e;null===(e=(t=this.player).draw)||void 0===e||e.call(t,this.screen),this.player.y-=this.player.dy,this.player.y+this.player.height<this.canvas.height/5&&(this.player.dy*=-1)},t.prototype.isgameOver=function(){return this.player.y+this.player.height>this.canvas.height},t.prototype.createPlatform=function(){for(var t=Math.ceil(.1*this.canvas.height),e=Math.ceil(.1*this.canvas.width),r=this.canvas.height/t,i=0;i<r;i++){this.platformCoordinates.x=Math.random()*(this.canvas.width-e),this.platformCoordinates.y+=t;var n=this.platformCoordinates,o=n.x,s=n.y,h=new a(o,s,60,20,1,1);this.platforms.push(h)}},t}();document.addEventListener("DOMContentLoaded",(function(){var t=document.getElementById("app"),e=new i(0,0,600,600,t),r=new h(n,e);r.start(),r.run()})),document.addEventListener("keyup",(function(t){switch(t.key.toLowerCase()){case"arrowleft":n.moveLeft();break;case"arrowright":n.moveRight()}}))})();