(()=>{"use strict";const t=function(t,e,i,r){this.x=t,this.y=e,this.width=i,this.height=r};var e,i=(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,i)},function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)});const r=function(t){function e(e,i,r,n,o){var s=t.call(this,e,i,r,n)||this;return s.parentElement=o,s.canvas=document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s}return i(e,t),e.prototype.render=function(){this.canvas.width=this.width,this.canvas.height=this.height,this.parentElement.append(this.canvas)},e}(t),n={x:300,y:540,speed:0,width:60,height:60,dx:60,dy:2,isJumping:function(){return 1===Math.sign(this.dy)},avatar:document.getElementById("doodler"),draw:function(t){t.ctx.drawImage(this.avatar,this.x,this.y,this.width,this.height)},moveLeft:function(){this.x-=this.dx},moveRight:function(){this.x+=this.dx}};function o(t){return{draw:function(e,i){void 0===i&&(i=.1),function(t,e,i){var r=t.ctx,n=t.canvas,o=n.width,s=n.height;void 0===i&&(i=.1);for(var a=Math.ceil(i*o),h=a;h<o;h+=a)r.beginPath(),r.moveTo(h,0),r.lineTo(h,s),r.strokeStyle=e||"#000000",r.stroke(),r.closePath()}(t,e,i),function(t,e,i){var r=t.ctx,n=t.canvas,o=n.width,s=n.height;void 0===i&&(i=.1);for(var a=Math.ceil(i*s),h=a;h<s;h+=a)r.beginPath(),r.moveTo(0,h),r.lineTo(o,h),r.strokeStyle=e||"#000000",r.stroke(),r.closePath()}(t,e,i)}}}var s=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();const a=function(t){function e(e,i,r,n,o,s){var a=t.call(this,e,i,r,n)||this;return a.dx=o,a.dy=s,a}return s(e,t),e.prototype.draw=function(t){t.ctx.fillRect(this.x,this.y,this.width,this.height)},e.prototype.platformGoDown=function(){this.y+=this.dy},e.prototype.isPlayerOnPlatform=function(t){var e=t.x,i=t.y,r=this.x,n=(this.y,r+this.width),o=(this.height,e+t.width),s=i+t.height;return r<e&&n>o&&s>t.y&&!t.isJumping()},e}(t),h=function(){function t(t,e){this.player=t,this.score=0,this.screen=e,this.ctx=e.ctx,this.canvas=e.canvas,this.gridColor="#65960a81",this.platforms=[],this.platformCoordinates={x:0,y:0},this.isPlayerJumping=!1,this.run=this.run.bind(this)}return t.prototype.start=function(){this.screen.render(),o(this.screen).draw(this.gridColor,.02)},t.prototype.run=function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),o(this.screen).draw(this.gridColor,.02),this.drawPlatform(),this.renderPlayer(),requestAnimationFrame(this.run),this.isgameOver()&&(this.player.dy*=-1)},t.prototype.drawPlatform=function(){var t=this;this.createPlatform(),this.platforms.forEach((function(e){e.draw(t.screen),e.isPlayerOnPlatform(t.player)&&(t.player.dy*=-1)}))},t.prototype.movePlatform=function(){this.platforms.length>0&&this.platforms.forEach((function(t){return t.y+=t.dy}))},t.prototype.renderPlayer=function(){var t,e;null===(e=(t=this.player).draw)||void 0===e||e.call(t,this.screen),this.player.y-=this.player.dy,this.player.y+this.player.height<this.canvas.height/5&&(this.player.dy*=-1)},t.prototype.isgameOver=function(){return this.player.y+this.player.height>this.canvas.height},t.prototype.createPlatform=function(){for(var t=Math.ceil(.1*this.canvas.height),e=Math.ceil(.1*this.canvas.width),i=this.canvas.height/t,r=0;r<i;r++){this.platformCoordinates.x=Math.random()*(this.canvas.width-e),this.platformCoordinates.y+=t;var n=this.platformCoordinates,o=n.x,s=n.y,h=new a(o,s,60,20,1,1);this.platforms.push(h)}},t}();document.addEventListener("DOMContentLoaded",(function(){var t=document.getElementById("app"),e=new r(0,0,600,600,t),i=new h(n,e);i.start(),i.run()})),document.addEventListener("keyup",(function(t){switch(t.key.toLowerCase()){case"arrowleft":n.moveLeft();break;case"arrowright":n.moveRight()}}))})();